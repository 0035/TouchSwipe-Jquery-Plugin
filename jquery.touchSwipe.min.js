(function(d){+"use strict";var m="left",l="right",c="up",t="down",b="in",u="out",j="none",p="auto",i="swipe",q="pinch",v="tap",x="horizontal",r="vertical",g="all",e="start",h="move",f="end",n="cancel",a="ontouchstart" in window,w="TouchSwipe";var k={fingers:1,threshold:75,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,triggerOnTouchEnd:true,triggerOnTouchLeave:false,allowPageScroll:"auto",fallbackToMouseEvents:true,excludedElements:"button, input, select, textarea, a, .noSwipe"};d.fn.swipe=function(A){var z=d(this),y=z.data(w);if(y&&typeof A==="string"){if(y[A]){return y[A].apply(this,Array.prototype.slice.call(arguments,1))}else{d.error("Method "+A+" does not exist on jQuery.swipe")}}else{if(!y&&(typeof A==="object"||!A)){return s.apply(this,arguments)}}return z};d.fn.swipe.defaults=k;d.fn.swipe.phases={PHASE_START:e,PHASE_MOVE:h,PHASE_END:f,PHASE_CANCEL:n};d.fn.swipe.directions={LEFT:m,RIGHT:l,UP:c,DOWN:t,IN:b,OUT:u};d.fn.swipe.pageScroll={NONE:j,HORIZONTAL:x,VERTICAL:r,AUTO:p};d.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:g};function s(y){if(y&&(y.allowPageScroll===undefined&&(y.swipe!==undefined||y.swipeStatus!==undefined))){y.allowPageScroll=j}if(y.click!==null&&y.tap===null){y.tap=y.click}if(!y){y={}}y=d.extend({},d.fn.swipe.defaults,y);return this.each(function(){var A=d(this);var z=A.data(w);if(!z){z=new o(this,y);A.data(w,z)}})}function o(R,ae){var aF=(a||!ae.fallbackToMouseEvents),ax=aF?"touchstart":"mousedown",T=aF?"touchmove":"mousemove",at=aF?"touchend":"mouseup",D=aF?null:"mouseleave",Q="touchcancel";var ab=0;var M=null;var af=0;var aB=0;var A=0;var ah=1;var aH=0;var H=d(R);var N="start";var aE=0;var ag=null;var I=0;var X=0;var aA=0;var aJ=0;try{H.bind(ax,aq);H.bind(Q,L)}catch(aC){d.error("events not supported "+ax+","+Q+" on jQuery.swipe")}this.enable=function(){H.bind(ax,aq);H.bind(Q,L);return H};this.disable=function(){P();return H};this.destroy=function(){P();H.data(w,null);return H};function aq(aM){if(W()){return}if(d(aM.target).closest(ae.excludedElements,H).length>0){return}var aN=aM.originalEvent?aM.originalEvent:aM;var aL,aK=a?aN.touches[0]:aN;N=e;if(a){aE=aN.touches.length}else{aM.preventDefault()}ab=0;M=null;aH=null;af=0;aB=0;A=0;ah=1;pinchDistance=0;ag=S();z();if(!a||(aE===ae.fingers||ae.fingers===g)||an()){aI(0,aK);I=B();if(aE==2){aI(1,aN.touches[1]);aB=A=Y(ag[0].start,ag[1].start)}if(ae.swipeStatus||ae.pinchStatus){aL=aD(aN,N)}}else{aL=false}if(aL===false){N=n;aD(aN,N);return aL}else{ai(true)}}function O(aN){var aQ=aN.originalEvent?aN.originalEvent:aN;if(N===f||N===n||ad()){return}var aM,aL=a?aQ.touches[0]:aQ;var aO=U(aL);X=B();if(a){aE=aQ.touches.length}N=h;if(aE==2){if(aB==0){aI(1,aQ.touches[1]);aB=A=Y(ag[0].start,ag[1].start)}else{U(aQ.touches[1]);A=Y(ag[0].end,ag[1].end);aH=am(ag[0].end,ag[1].end)}ah=y(aB,A);pinchDistance=Math.abs(aB-A)}if((aE===ae.fingers||ae.fingers===g)||!a||an()){M=ap(aO.start,aO.end);C(aN,M);ab=G(aO.start,aO.end);af=K();if(ae.swipeStatus||ae.pinchStatus){aM=aD(aQ,N)}if(!ae.triggerOnTouchEnd||ae.triggerOnTouchLeave){var aK=true;if(ae.triggerOnTouchLeave){var aP=ar(this);aK=az(aO.end,aP)}if(!ae.triggerOnTouchEnd&&aK){N=aG(h)}else{if(ae.triggerOnTouchLeave&&!aK){N=aG(f)}}if(N==n||N==f){aD(aQ,N)}}}else{N=n;aD(aQ,N)}if(aM===false){N=n;aD(aQ,N)}}function Z(aM){var aO=aM.originalEvent;if(a){if(aO.touches.length>0){au();return true}}if(ad()){aE=aJ}aM.preventDefault();X=B();if(ae.triggerOnTouchEnd||(ae.triggerOnTouchEnd==false&&N===h)){N=f;var aL=((aE===ae.fingers||ae.fingers===g)||!a);var aK=ag[0].end.x!==0;var aN=aL&&aK&&(al()||ay());if(aN){aD(aO,N)}else{N=n;aD(aO,N)}}else{if(N===h){N=n;aD(aO,N)}}ai(false)}function L(){aE=0;X=0;I=0;aB=0;A=0;ah=1;z();ai(false)}function V(aK){var aL=aK.originalEvent;if(ae.triggerOnTouchLeave){N=aG(f);aD(aL,N)}}function P(){H.unbind(ax,aq);H.unbind(Q,L);H.unbind(T,O);H.unbind(at,Z);if(D){H.unbind(D,V)}ai(false)}function aG(aN){var aM=aN;var aL=ao();var aK=ac();if(!aL){aM=n}else{if(aK&&aN==h&&(!ae.triggerOnTouchEnd||ae.triggerOnTouchLeave)){aM=f}else{if(!aK&&aN==f&&ae.triggerOnTouchLeave){aM=n}}}return aM}function aD(aM,aK){var aL=undefined;if(aa()){aL=ak(aM,aK,i)}if(an()&&aL!==false){aL=ak(aM,aK,q)}if(aw()&&aL!==false){aL=ak(aM,aK,v)}if(aK===n){L(aM)}if(aK===f){if(a){if(aM.touches.length==0){L(aM)}}else{L(aM)}}return aL}function ak(aN,aK,aM){var aL=undefined;if(aM==i){H.trigger("swipeStatus",[aK,M||null,ab||0,af||0,aE]);if(ae.swipeStatus){aL=ae.swipeStatus.call(H,aN,aK,M||null,ab||0,af||0,aE);if(aL===false){return false}}if(aK==f&&ay()){H.trigger("swipe",[M,ab,af,aE]);if(ae.swipe){aL=ae.swipe.call(H,aN,M,ab,af,aE);if(aL===false){return false}}switch(M){case m:H.trigger("swipeLeft",[M,ab,af,aE]);if(ae.swipeLeft){aL=ae.swipeLeft.call(H,aN,M,ab,af,aE)}break;case l:H.trigger("swipeRight",[M,ab,af,aE]);if(ae.swipeRight){aL=ae.swipeRight.call(H,aN,M,ab,af,aE)}break;case c:H.trigger("swipeUp",[M,ab,af,aE]);if(ae.swipeUp){aL=ae.swipeUp.call(H,aN,M,ab,af,aE)}break;case t:H.trigger("swipeDown",[M,ab,af,aE]);if(ae.swipeDown){aL=ae.swipeDown.call(H,aN,M,ab,af,aE)}break}}}if(aM==q){H.trigger("pinchStatus",[aK,aH||null,pinchDistance||0,af||0,aE,ah]);if(ae.pinchStatus){aL=ae.pinchStatus.call(H,aN,aK,aH||null,pinchDistance||0,af||0,aE,ah);if(aL===false){return false}}if(aK==f&&al()){switch(aH){case b:H.trigger("pinchIn",[aH||null,pinchDistance||0,af||0,aE,ah]);if(ae.pinchIn){aL=ae.pinchIn.call(H,aN,aH||null,pinchDistance||0,af||0,aE,ah)}break;case u:H.trigger("pinchOut",[aH||null,pinchDistance||0,af||0,aE,ah]);if(ae.pinchOut){aL=ae.pinchOut.call(H,aN,aH||null,pinchDistance||0,af||0,aE,ah)}break}}}if(aM==v){if(aK===n){if((aE===1||!a)&&(isNaN(ab)||ab===0)){H.trigger("tap",[aN.target]);if(ae.tap){aL=ae.tap.call(H,aN,aN.target)}}}}return aL}function ac(){if(ae.threshold!==null){return ab>=ae.threshold}return true}function aj(){if(ae.pinchThreshold!==null){return pinchDistance>=ae.pinchThreshold}return true}function ao(){var aK;if(ae.maxTimeThreshold){if(af>=ae.maxTimeThreshold){aK=false}else{aK=true}}else{aK=true}return aK}function C(aK,aL){if(ae.allowPageScroll===j||an()){aK.preventDefault()}else{var aM=ae.allowPageScroll===p;switch(aL){case m:if((ae.swipeLeft&&aM)||(!aM&&ae.allowPageScroll!=x)){aK.preventDefault()}break;case l:if((ae.swipeRight&&aM)||(!aM&&ae.allowPageScroll!=x)){aK.preventDefault()}break;case c:if((ae.swipeUp&&aM)||(!aM&&ae.allowPageScroll!=r)){aK.preventDefault()}break;case t:if((ae.swipeDown&&aM)||(!aM&&ae.allowPageScroll!=r)){aK.preventDefault()}break}}}function al(){return aj()}function an(){return !!(ae.pinchStatus||ae.pinchIn||ae.pinchOut)}function av(){return !!(al()&&an())}function ay(){var aK=ao();var aM=ac();var aL=aM&&aK;return aL}function aa(){return !!(ae.swipe||ae.swipeStatus||ae.swipeLeft||ae.swipeRight||ae.swipeUp||ae.swipeDown)}function E(){return !!(ay()&&aa())}function aw(){return !!(ae.tap)}function au(){aA=B();aJ=event.touches.length+1}function z(){aA=0;aJ=0}function ad(){var aK=false;if(aA){var aL=B()-aA;if(aL<=ae.fingerReleaseThreshold){aK=true}}return aK}function W(){return !!(H.data(w+"_intouch")===true)}function ai(aK){if(aK===true){H.bind(T,O);H.bind(at,Z);if(D){H.bind(D,V)}}else{H.unbind(T,O,false);H.unbind(at,Z,false);if(D){H.unbind(D,V,false)}}H.data(w+"_intouch",aK===true)}function aI(aL,aK){var aM=aK.identifier!==undefined?aK.identifier:0;ag[aL].identifier=aM;ag[aL].start.x=ag[aL].end.x=aK.pageX||aK.clientX;ag[aL].start.y=ag[aL].end.y=aK.pageY||aK.clientY;return ag[aL]}function U(aK){var aM=aK.identifier!==undefined?aK.identifier:0;var aL=J(aM);aL.end.x=aK.pageX||aK.clientX;aL.end.y=aK.pageY||aK.clientY;return aL}function J(aL){for(var aK=0;aK<ag.length;aK++){if(ag[aK].identifier==aL){return ag[aK]}}}function S(){var aK=[];for(var aL=0;aL<=5;aL++){aK.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0})}return aK}function K(){return X-I}function Y(aN,aM){var aL=Math.abs(aN.x-aM.x);var aK=Math.abs(aN.y-aM.y);return Math.round(Math.sqrt(aL*aL+aK*aK))}function y(aK,aL){var aM=(aL/aK)*1;return aM.toFixed(2)}function am(){if(ah<1){return u}else{return b}}function G(aL,aK){return Math.round(Math.sqrt(Math.pow(aK.x-aL.x,2)+Math.pow(aK.y-aL.y,2)))}function F(aN,aL){var aK=aN.x-aL.x;var aP=aL.y-aN.y;var aM=Math.atan2(aP,aK);var aO=Math.round(aM*180/Math.PI);if(aO<0){aO=360-Math.abs(aO)}return aO}function ap(aL,aK){var aM=F(aL,aK);if((aM<=45)&&(aM>=0)){return m}else{if((aM<=360)&&(aM>=315)){return m}else{if((aM>=135)&&(aM<=225)){return l}else{if((aM>45)&&(aM<135)){return t}else{return c}}}}}function B(){var aK=new Date();return aK.getTime()}function ar(aK){aK=d(aK);var aM=aK.offset();var aL={left:aM.left,right:aM.left+aK.outerWidth(),top:aM.top,bottom:aM.top+aK.outerHeight()};return aL}function az(aK,aL){return(aK.x>aL.left&&aK.x<aL.right&&aK.y>aL.top&&aK.y<aL.bottom)}}})(jQuery);