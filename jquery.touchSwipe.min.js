(function(d){var n="left",m="right",c="up",u="down",b="in",v="out",k="none",q="auto",j="swipe",r="pinch",e="click",x="horizontal",s="vertical",h="all",f="start",i="move",g="end",o="cancel",a="ontouchstart" in window,w="TouchSwipe";var l={fingers:1,threshold:75,cancelThreshold:25,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,triggerOnTouchEnd:true,triggerOnTouchLeave:false,allowPageScroll:"auto",fallbackToMouseEvents:true,excludedElements:"button, input, select, textarea, a, .noSwipe"};d.fn.swipe=function(A){var z=d(this),y=z.data(w);if(y&&typeof A==="string"){if(y[A]){return y[A].apply(this,Array.prototype.slice.call(arguments,1))}else{d.error("Method "+A+" does not exist on jQuery.swipe")}}else{if(!y&&(typeof A==="object"||!A)){return t.apply(this,arguments)}}return z};d.fn.swipe.defaults=l;d.fn.swipe.phases={PHASE_START:f,PHASE_MOVE:i,PHASE_END:g,PHASE_CANCEL:o};d.fn.swipe.directions={LEFT:n,RIGHT:m,UP:c,DOWN:u,IN:b,OUT:v};d.fn.swipe.pageScroll={NONE:k,HORIZONTAL:x,VERTICAL:s,AUTO:q};d.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:h};function t(y){if(y&&(y.allowPageScroll===undefined&&(y.swipe!==undefined||y.swipeStatus!==undefined))){y.allowPageScroll=k}if(!y){y={}}y=d.extend({},d.fn.swipe.defaults,y);return this.each(function(){var A=d(this);var z=A.data(w);if(!z){z=new p(this,y);A.data(w,z)}})}function p(T,ah){var aJ=(a||!ah.fallbackToMouseEvents),az=aJ?"touchstart":"mousedown",V=aJ?"touchmove":"mousemove",aw=aJ?"touchend":"mouseup",D=aJ?null:"mouseleave",S="touchcancel";var ae=0,O=null,ai=0,aF=0,A=0,ak=1,aA=0,aN=0,aa=null;var H=d(T);var P="start";var aI=0;var aj=null;var I=0,Z=0,aD=0,aP=0;try{H.bind(az,au);H.bind(S,M)}catch(aG){d.error("events not supported "+az+","+S+" on jQuery.swipe")}this.enable=function(){H.bind(az,au);H.bind(S,M);return H};this.disable=function(){R();return H};this.destroy=function(){R();H.data(w,null);return H};function au(aS){if(Y()){return}if(d(aS.target).closest(ah.excludedElements,H).length>0){return}var aT=aS.originalEvent;var aR,aQ=a?aT.touches[0]:aT;P=f;if(a){aI=aT.touches.length}else{aS.preventDefault()}ae=0;O=null;aN=null;ai=0;aF=0;A=0;ak=1;aA=0;aj=U();aa=aE();z();if(!a||(aI===ah.fingers||ah.fingers===h)||aq()){aO(0,aQ);I=B();if(aI==2){aO(1,aT.touches[1]);aF=A=ab(aj[0].start,aj[1].start)}if(ah.swipeStatus||ah.pinchStatus){aR=aH(aT,P)}}else{aR=false}if(aR===false){P=o;aH(aT,P);return aR}else{al(true)}}function Q(aT){var aW=aT.originalEvent;if(P===g||P===o||ag()){return}var aS,aR=a?aW.touches[0]:aW;var aU=W(aR);Z=B();if(a){aI=aW.touches.length}P=i;if(aI==2){if(aF==0){aO(1,aW.touches[1]);aF=A=ab(aj[0].start,aj[1].start)}else{W(aW.touches[1]);A=ab(aj[0].end,aj[1].end);aN=ap(aj[0].end,aj[1].end)}ak=y(aF,A);aA=Math.abs(aF-A)}if((aI===ah.fingers||ah.fingers===h)||!a||aq()){O=at(aU.start,aU.end);C(aT,O);ae=G(aU.start,aU.end);ai=L();aK(O,ae);if(ah.swipeStatus||ah.pinchStatus){aS=aH(aW,P)}if(!ah.triggerOnTouchEnd||ah.triggerOnTouchLeave){var aQ=true;if(ah.triggerOnTouchLeave){var aV=av(this);aQ=aC(aU.end,aV)}if(!ah.triggerOnTouchEnd&&aQ){P=aM(i)}else{if(ah.triggerOnTouchLeave&&!aQ){P=aM(g)}}if(P==o||P==g){aH(aW,P)}}}else{P=o;aH(aW,P)}if(aS===false){P=o;aH(aW,P)}}function ac(aS){var aU=aS.originalEvent;if(a){if(aU.touches.length>0){ax();return true}}if(ag()){aI=aP}aS.preventDefault();Z=B();if(ah.triggerOnTouchEnd||(ah.triggerOnTouchEnd==false&&P===i)){P=g;var aR=((aI===ah.fingers||ah.fingers===h)||!a);var aQ=aj[0].end.x!==0;var aT=aR&&aQ&&(ao()||aB());if(aT){aH(aU,P)}else{P=o;aH(aU,P)}}else{if(P===i){P=o;aH(aU,P)}}al(false)}function M(){aI=0;Z=0;I=0;aF=0;A=0;ak=1;z();al(false)}function X(aQ){var aR=aQ.originalEvent;if(ah.triggerOnTouchLeave){P=aM(g);aH(aR,P)}}function R(){H.unbind(az,au);H.unbind(S,M);H.unbind(V,Q);H.unbind(aw,ac);if(D){H.unbind(D,X)}al(false)}function aM(aT){var aS=aT;var aR=ar();var aQ=af();if(!aR){aS=o}else{if(aQ&&aT==i&&(!ah.triggerOnTouchEnd||ah.triggerOnTouchLeave)){aS=g}else{if(!aQ&&aT==g&&ah.triggerOnTouchLeave){aS=o}}}return aS}function aH(aS,aQ){var aR=undefined;if(ad()){aR=an(aS,aQ,j)}if(aq()&&aR!==false){aR=an(aS,aQ,r)}if(K()&&aR!==false){aR=an(aS,aQ,e)}if(aQ===o){M(aS)}if(aQ===g){if(a){if(aS.touches.length==0){M(aS)}}else{M(aS)}}return aR}function an(aT,aQ,aS){var aR=undefined;if(aS==j){if(ah.swipeStatus){aR=ah.swipeStatus.call(H,aT,aQ,O||null,ae||0,ai||0,aI);if(aR===false){return false}}if(aQ==g&&aB()){if(ah.swipe){aR=ah.swipe.call(H,aT,O,ae,ai,aI);if(aR===false){return false}}switch(O){case n:if(ah.swipeLeft){aR=ah.swipeLeft.call(H,aT,O,ae,ai,aI)}break;case m:if(ah.swipeRight){aR=ah.swipeRight.call(H,aT,O,ae,ai,aI)}break;case c:if(ah.swipeUp){aR=ah.swipeUp.call(H,aT,O,ae,ai,aI)}break;case u:if(ah.swipeDown){aR=ah.swipeDown.call(H,aT,O,ae,ai,aI)}break}}}if(aS==r){if(ah.pinchStatus){aR=ah.pinchStatus.call(H,aT,aQ,aN||null,aA||0,ai||0,aI,ak);if(aR===false){return false}}if(aQ==g&&ao()){switch(aN){case b:if(ah.pinchIn){aR=ah.pinchIn.call(H,aT,aN||null,aA||0,ai||0,aI,ak)}break;case v:if(ah.pinchOut){aR=ah.pinchOut.call(H,aT,aN||null,aA||0,ai||0,aI,ak)}break}}}if(aS==e){if(aQ===o){if(ah.click&&(aI===1||!a)&&(isNaN(ae)||ae===0)){aR=ah.click.call(H,aT,aT.target)}}}return aR}function af(){var aQ=true;if(ah.threshold!==null){aQ=ae>=ah.threshold}if(aQ&&ah.cancelThreshold!==null){aQ=(N(O)-ae)<ah.cancelThreshold}return aQ}function am(){if(ah.pinchThreshold!==null){return aA>=ah.pinchThreshold}return true}function ar(){var aQ;if(ah.maxTimeThreshold){if(ai>=ah.maxTimeThreshold){aQ=false}else{aQ=true}}else{aQ=true}return aQ}function C(aQ,aR){if(ah.allowPageScroll===k||aq()){aQ.preventDefault()}else{var aS=ah.allowPageScroll===q;switch(aR){case n:if((ah.swipeLeft&&aS)||(!aS&&ah.allowPageScroll!=x)){aQ.preventDefault()}break;case m:if((ah.swipeRight&&aS)||(!aS&&ah.allowPageScroll!=x)){aQ.preventDefault()}break;case c:if((ah.swipeUp&&aS)||(!aS&&ah.allowPageScroll!=s)){aQ.preventDefault()}break;case u:if((ah.swipeDown&&aS)||(!aS&&ah.allowPageScroll!=s)){aQ.preventDefault()}break}}}function ao(){return am()}function aq(){return !!(ah.pinchStatus||ah.pinchIn||ah.pinchOut)}function ay(){return !!(ao()&&aq())}function aB(){var aQ=ar();var aS=af();var aR=aS&&aQ;return aR}function ad(){return !!(ah.swipe||ah.swipeStatus||ah.swipeLeft||ah.swipeRight||ah.swipeUp||ah.swipeDown)}function E(){return !!(aB()&&ad())}function K(){return !!(ah.click)}function ax(){aD=B();aP=event.touches.length+1}function z(){aD=0;aP=0}function ag(){var aQ=false;if(aD){var aR=B()-aD;if(aR<=ah.fingerReleaseThreshold){aQ=true}}return aQ}function Y(){return !!(H.data(w+"_intouch")===true)}function al(aQ){if(aQ===true){H.bind(V,Q);H.bind(aw,ac);if(D){H.bind(D,X)}}else{H.unbind(V,Q,false);H.unbind(aw,ac,false);if(D){H.unbind(D,X,false)}}H.data(w+"_intouch",aQ===true)}function aO(aR,aQ){var aS=aQ.identifier!==undefined?aQ.identifier:0;aj[aR].identifier=aS;aj[aR].start.x=aj[aR].end.x=aQ.pageX||aQ.clientX;aj[aR].start.y=aj[aR].end.y=aQ.pageY||aQ.clientY;return aj[aR]}function W(aQ){var aS=aQ.identifier!==undefined?aQ.identifier:0;var aR=J(aS);aR.end.x=aQ.pageX||aQ.clientX;aR.end.y=aQ.pageY||aQ.clientY;return aR}function J(aR){for(var aQ=0;aQ<aj.length;aQ++){if(aj[aQ].identifier==aR){return aj[aQ]}}}function U(){var aQ=[];for(var aR=0;aR<=5;aR++){aQ.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0})}return aQ}function aK(aQ,aR){aR=Math.max(aR,N(aQ));aa[aQ].distance=aR}function N(aQ){return aa[aQ].distance}function aE(){var aQ={};aQ[n]=aL(n);aQ[m]=aL(m);aQ[c]=aL(c);aQ[u]=aL(u);return aQ}function aL(aQ){return{direction:aQ,distance:0}}function L(){return Z-I}function ab(aT,aS){var aR=Math.abs(aT.x-aS.x);var aQ=Math.abs(aT.y-aS.y);return Math.round(Math.sqrt(aR*aR+aQ*aQ))}function y(aQ,aR){var aS=(aR/aQ)*1;return aS.toFixed(2)}function ap(){if(ak<1){return v}else{return b}}function G(aR,aQ){return Math.round(Math.sqrt(Math.pow(aQ.x-aR.x,2)+Math.pow(aQ.y-aR.y,2)))}function F(aT,aR){var aQ=aT.x-aR.x;var aV=aR.y-aT.y;var aS=Math.atan2(aV,aQ);var aU=Math.round(aS*180/Math.PI);if(aU<0){aU=360-Math.abs(aU)}return aU}function at(aR,aQ){var aS=F(aR,aQ);if((aS<=45)&&(aS>=0)){return n}else{if((aS<=360)&&(aS>=315)){return n}else{if((aS>=135)&&(aS<=225)){return m}else{if((aS>45)&&(aS<135)){return u}else{return c}}}}}function B(){var aQ=new Date();return aQ.getTime()}function av(aQ){aQ=d(aQ);var aS=aQ.offset();var aR={left:aS.left,right:aS.left+aQ.outerWidth(),top:aS.top,bottom:aS.top+aQ.outerHeight()};return aR}function aC(aQ,aR){return(aQ.x>aR.left&&aQ.x<aR.right&&aQ.y>aR.top&&aQ.y<aR.bottom)}}})(jQuery);