<!DOCTYPE HTML>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
        <meta http-equiv="x-ua-compatible" content="IE=9">
        <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="https://cdn.rawgit.com/google/code-prettify/master/src/prettify.css" rel="stylesheet" />

        <link href="css/main.css" type="text/css" rel="stylesheet" />

        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
        <script type="text/javascript" src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
        <script type="text/javascript" src="../jquery.touchSwipe.js"></script>
        <script type="text/javascript" src="js/main.js"></script>

        <title>touchSwipe</title>
    </head>
    <body>
		<a href="https://github.com/mattbryson"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png" alt="Fork me on GitHub"></a>
		<div class="container">

			<script id='code_1'>

        $(function() {

          //Register event listeners to the parent div
          $('.parent').on('swipeLeft.ts', '#test', function() {
            $('#test').text('You swiped left');
          });

          $('.parent').on('swipeRight.ts', '#test', function() {
            $('#test').text('You swiped right');
          });


          //Set up the Add / Remove buttons
          $('#add').on('click', function() {
            //Add a new area to the DOM
            $('.parent').html("<div id='test' class='box'>Swipe Me!</div>");
            //Make it swipeable
            $('#test').swipe();

            toggleButtons();

          });

          $("#remove").on('click', function() {
            //Call destory to unregister event handlers..
            $('#test').swipe('destroy');
            //Remove the item from the DOM
            $('#test').remove();

            toggleButtons();
          });


          function toggleButtons() {
            $('#add, #remove').toggleClass('hide');
          }



        });
      </script>


			<span class='title'></span>
			<h4>events:  <span class='events'><code>all</code></span></h4>
      <p>
        If you dynanically add  / remove elements that need to be swipeable, you can use the jq <code>.on()</code> method to listen out for the events, but you must remember to initiate and destory the elements when you add  / remove them.
      </p>


			<button class='btn btn-small btn-info example_btn'>Jump to Example</button>
			<pre class="prettyprint lang-js" data-src='code_1'></pre>
			<span class='navigation'></span>

      <p>
        The swipe handlers have already be registered with `.on()`.  Now dynmaically create a swipeable area below..
      </p>

      <button class='btn btn-success 'id="add">Click to add Swipe Area</button>
      <button class='btn btn-warning hide'id="remove">Remove Swipe Area</button>

      <span class="parent"></span>

      <span class='navigation'></span>
		</div>
   </body>
</html>
